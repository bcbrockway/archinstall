#!/bin/bash

set -e

HOSTNAME=arch-vm
KEYMAP=uk
LOCALE=en_GB.UTF-8
TIMEZONE=Europe/London

pacman -Sy vim
ln -sf /usr/share/zoneinfo/${TIMEZONE} /etc/localtime
hwclock --systohc
sed -i 's/#\('"${LOCALE}"'\)/\1/' /etc/locale.gen
locale-gen
echo LANG=${LOCALE} > /etc/locale.conf
echo KEYMAP=${KEYMAP} > /etc/vconsole.conf
echo ${HOSTNAME} > /etc/hostname

# Remove PermitRootLogin yes from /etc/ssh/sshd_config